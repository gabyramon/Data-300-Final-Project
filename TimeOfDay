import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
 
url = "https://data.cityofnewyork.us/api/views/h9gi-nx95/rows.csv?accessType=DOWNLOAD"
df = pd.read_csv(url)
 
# Convert 'CRASH TIME' to datetime
df['CRASH TIME'] = pd.to_datetime(df['CRASH TIME'], format='%H:%M', errors='coerce')
 
# Drop rows where conversion failed
df = df.dropna(subset=['CRASH TIME'])
 
# Extract hour of day
df['HOUR'] = df['CRASH TIME'].dt.hour
 
plt.figure(figsize=(12,6))
sns.countplot(data=df, x='HOUR', palette='viridis')
plt.title('NYC Vehicle Collisions by Hour of Day')
plt.xlabel('Hour of Day (0 = Midnight)')
plt.ylabel('Number of Collisions')
plt.xticks(range(0, 24))
plt.grid(True, linestyle='--', alpha=0.5)
plt.tight_layout()
plt.show()
